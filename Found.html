<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>Lapor Barang Ditemukan</title>
<style>
*{margin:0;padding:0;box-sizing:border-box}
body{font-family:-apple-system,sans-serif;background:linear-gradient(135deg,#fef2f2,#fee2e2);padding:20px;min-height:100vh}
.container{max-width:600px;margin:0 auto;background:#fff;border-radius:16px;box-shadow:0 10px 30px rgba(0,0,0,.1)}
.header{background:linear-gradient(135deg,#ef4444,#dc2626);color:#fff;padding:32px 24px;text-align:center}
.header h1{font-size:24px;margin-bottom:8px}
.form-content{padding:32px 24px}
.form-group{margin-bottom:20px}
.form-label{display:block;font-weight:600;margin-bottom:8px;font-size:14px}
.required{color:#ef4444}
.form-input,.form-textarea,.form-select{width:100%;padding:12px;border:2px solid #e5e7eb;border-radius:8px;font-size:15px}
.form-input:focus,.form-textarea:focus,.form-select:focus{outline:none;border-color:#ef4444}
.form-textarea{min-height:100px;resize:vertical}
.btn{width:100%;padding:14px;border:none;border-radius:8px;font-size:16px;font-weight:700;cursor:pointer;margin-top:10px}
.btn-primary{background:#ef4444;color:#fff}
.btn-primary:hover{background:#dc2626}
.btn-primary:disabled{background:#9ca3af;cursor:not-allowed}
.btn-location{background:#3b82f6;color:#fff}
.btn-location:hover{background:#2563eb}
.location-info{margin-top:12px;padding:12px;background:#dbeafe;border-radius:8px;font-size:14px;display:none}
.location-info.active{display:block}
.success-message{display:none;padding:32px;text-align:center}
.success-message.active{display:block}
.success-icon{width:80px;height:80px;background:#d1fae5;border-radius:50%;display:flex;align-items:center;justify-content:center;margin:0 auto 16px;font-size:40px}
</style>
</head>
<body>
<div class="container">
<div class="header">
<div style="font-size:48px;margin-bottom:16px">üîç</div>
<h1>Form Barang Ditemukan</h1>
<p>Gelora Bung Karno (GBK)</p>
</div>
<div class="form-content">
<form id="lostForm">
<div class="form-group">
<label class="form-label">Nama Lengkap<span class="required">*</span></label>
<input type="text" class="form-input" id="name" required>
</div>
<div class="form-group">
<label class="form-label">Nomor Telepon<span class="required">*</span></label>
<input type="tel" class="form-input" id="phone" required>
</div>
<div class="form-group">
<label class="form-label">Nomor KTP<span class="required">*</span></label>
<input type="text" class="form-input" id="idNumber" required maxlength="16">
</div>
<div class="form-group">
<label class="form-label">Jenis Barang<span class="required">*</span></label>
<select class="form-select" id="itemType" required>
<option value="">Pilih</option>
<option value="Dompet">Dompet</option>
<option value="Handphone">Handphone</option>
<option value="Tas">Tas</option>
<option value="Kunci">Kunci</option>
<option value="Lainnya">Lainnya</option>
</select>
</div>
<div class="form-group">
<label class="form-label">Deskripsi<span class="required">*</span></label>
<textarea class="form-textarea" id="description" required></textarea>
</div>
<div class="form-group">
<label class="form-label">Lokasi Terakhir<span class="required">*</span></label>
<select class="form-select" id="lastLocation" required>
<option value="">Pilih</option>
<option value="Stadion Utama">Stadion Utama</option>
<option value="Parkir">Area Parkir</option>
<option value="Toilet">Toilet</option>
<option value="Lainnya">Lainnya</option>
</select>
</div>
<div class="form-group">
<label class="form-label">Lokasi GPS</label>
<button type="button" class="btn btn-location" id="getLocationBtn">üìç Dapatkan Lokasi</button>
<div class="location-info" id="locationInfo"><span id="locationText"></span></div>
<input type="hidden" id="latitude">
<input type="hidden" id="longitude">
</div>
<button type="submit" class="btn btn-primary" id="submitBtn">Kirim Laporan</button>
</form>
<div class="success-message" id="successMessage">
<div class="success-icon">‚úÖ</div>
<h2 style="color:#10b981;margin-bottom:12px">Berhasil!</h2>
<p style="margin-bottom:24px">Laporan telah dikirim. Tim GBK akan menghubungi Anda.</p>
<button class="btn btn-primary" onclick="location.reload()">Laporkan Lagi</button>
</div>
</div>
</div>
<script>
const form=document.getElementById('lostForm');
const submitBtn=document.getElementById('submitBtn');
const successMessage=document.getElementById('successMessage');
const getLocationBtn=document.getElementById('getLocationBtn');
const locationInfo=document.getElementById('locationInfo');
const locationText=document.getElementById('locationText');

getLocationBtn.addEventListener('click',function(){
if(navigator.geolocation){
getLocationBtn.disabled=true;
getLocationBtn.textContent='‚è≥ Loading...';
navigator.geolocation.getCurrentPosition(
function(pos){
document.getElementById('latitude').value=pos.coords.latitude;
document.getElementById('longitude').value=pos.coords.longitude;
locationText.textContent=`${pos.coords.latitude.toFixed(6)}, ${pos.coords.longitude.toFixed(6)}`;
locationInfo.classList.add('active');
getLocationBtn.textContent='‚úÖ Lokasi Didapat';
getLocationBtn.style.background='#10b981';
},
function(){
getLocationBtn.disabled=false;
getLocationBtn.textContent='üìç Dapatkan Lokasi';
alert('Gagal mendapatkan lokasi');
}
);
}
});

form.addEventListener('submit',function(e){
e.preventDefault();
submitBtn.disabled=true;
submitBtn.textContent='‚è≥ Mengirim...';

const data={
timestamp:new Date().toISOString(),
formType:'FOUND',
name:document.getElementById('name').value,
phone:document.getElementById('phone').value,
idNumber:document.getElementById('idNumber').value,
itemType:document.getElementById('itemType').value,
description:document.getElementById('description').value,
lastLocation:document.getElementById('lastLocation').value,
latitude:document.getElementById('latitude').value||'',
longitude:document.getElementById('longitude').value||'',
lostDateTime:'',
additionalInfo:'',
photoUploaded:'Tidak'
};

const params=new URLSearchParams(data).toString();
const url='https://script.google.com/macros/s/AKfycbzRxrpDRB8mQK3W2ZQ4YZ3y5yxcly-jPLeQbmPgS5ZClthbiW2zOTJTZmrVy5_pA1TG/exec';

fetch(url+'?'+params,{method:'GET',mode:'no-cors'})
.then(()=>{
form.style.display='none';
successMessage.classList.add('active');
})
.catch(()=>{
submitBtn.disabled=false;
submitBtn.textContent='Kirim Laporan';
});
});
</script>
</body>
</html>
